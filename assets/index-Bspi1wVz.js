import{r as a,E as b,U as w,j as r,V as D,B as l,T as C,W as y,X as M,Y as G,Z as j,$ as s}from"./index-B6ZkMIl6.js";import{d as N,D as S,G as R}from"./DeleteOutlineOutlined-B9SpMdFr.js";import"./TextField-DpWjOkgT.js";import"./FormHelperText-BBXhZmbc.js";import"./Skeleton-DG6n7e1T.js";function E(){const{users:c}=a.useContext(b),[u,i]=a.useState(!1),m=c,d=w(),h=a.useMemo(()=>[{field:"profilePic",headerName:"Avatar",width:60,sortable:!1,filterable:!1,renderCell:e=>r.jsx(D,{src:e.row.profilePic})},{field:"name",headerName:"Name",width:150,cellClassName:"name-column-cell"},{field:"userId",headerName:"ID",width:230},{field:"email",headerName:"Email",width:200,sortable:!1},{field:"gender",headerName:"Gender",width:150},{field:"isAdmin",headerName:"Role",headerAlign:"center",width:200,sortable:!1,cellClassName:"access-column-cell",renderCell:({row:{isAdmin:e}})=>r.jsx(l,{backgroundColor:e===!0?"indigo.main":"indigo.light",sx:{width:"100%",margin:"0 auto",p:"5px",display:"flex",justifyContent:"center",borderRadius:"4px"},children:r.jsx(C,{sx:{textAlign:"center",whiteSpace:"nowrap"},children:e===!0?"Admin":"Not Specified"})})},{field:"delete",headerName:"Delete",sortable:!1,width:150,renderCell:({row:e,rowIndex:A})=>r.jsx(l,{sx:{width:"60%",margin:"0 auto",p:"5px",display:"flex",justifyContent:"center",borderRadius:"4px"},children:r.jsx(y,{onClick:()=>{x(e.id)},children:r.jsx(N,{sx:{color:"error.main"}})})})}],[]),[n,t]=a.useState(null),[f,o]=a.useState(!1),x=e=>{t(e),o(!0)},p=async()=>{if(n!==null){i(!0);try{await j("users",n)?(o(!1),t(null),s.success("Data deleted Successfully")):s.error("Error deleting user")}catch{s.error("Data cannot be deleted")}finally{i(!1)}}},g=()=>{o(!1),t(null)};return r.jsxs(r.Fragment,{children:[u&&r.jsx(M,{}),r.jsxs(l,{sx:{height:"75vh",width:"100%",backgroundColor:d.palette.grey[0],borderRadius:2,border:"1px solid",borderColor:d.palette.grey.A800},children:[r.jsx(S,{columns:h,rows:m,getRowSpacing:e=>({top:e.isFirstVisible?0:5,bottom:e.isLastVisible?0:5}),getRowId:e=>e.id,slots:{toolbar:R},sx:{"& .MuiDataGrid-root":{border:"none"},"& .MuiDataGrid-cell.MuiDataGrid-cell--textLeft":{border:"none"},"& .name-column-cell":{color:"primary.main"},"& .css-yrdy0g-MuiDataGrid-columnHeaderRow":{background:"#69c0ff !important",fontWeight:"bold",borderBottom:"none",marginBottom:1},"& .MuiDataGrid-virtualScroller.css-1793420-MuiDataGrid-virtualScroller":{},"& .MuiDataGrid-footerContainer.MuiDataGrid-withBorderColor.css-wop1k0-MuiDataGrid-footerContainer":{borderTop:"none",backgroundColor:"#69c0ff",marginTop:1},"& .MuiDataGrid-row":{backgroundColor:"secondary.lighter"},"& .MuiDataGrid-row:hover":{backgroundColor:"secondary.light"},"& .MuiDataGrid-columnHeaderTitle.css-t89xny-MuiDataGrid-columnHeaderTitle":{fontWeight:"bolder"},"& .MuiDataGrid-toolbarContainer .MuiButton-text":{color:"purple !important"}}}),r.jsx(G,{message:"Are you sure you want to Delete?",open:f,handleClose:()=>o(!1),handleAgree:p,handleDisagree:g})]})]})}export{E as default};
